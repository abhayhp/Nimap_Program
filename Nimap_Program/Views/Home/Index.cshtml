@{
    ViewData["Title"] = "Home Page";

    Pager pager = new Pager();
    int pageNo = 0;

    if(ViewBag.Pager != null){
        
        pager = ViewBag.Pager;
        pageNo = pager.CurrentPage;

    }


}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    @*<p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET *@@*Core</a>.</p>*@
</div>


<table class="table table-bordered">
    <thead>
        <tr class="text-center">
            <th>Pid</th>

            <th>Name</th>
            
            <th>CategoryId</th>
            <th>CategoryName</th>

        </tr>

    </thead>
    @foreach (Product prod in Model)
    {
        <tr class="text-center">
            <td>@prod.Pid</td>

            <td>@prod.Name</td>
            
            <td>@prod.Categoryid</td>

            <td>@prod.CategoryName</td>
            

        </tr>

    }

</table>


<div class="container">
    @if(pager.TotalPages > 0){
        <ul class="pagination justify-content-end">
            @for(var pge = pager.StartPage;pge <= pager.EndPage; pge++ ){
                <li class="page-item @(pge == pager.CurrentPage ? "active" : "")">
                    <a class="page-link" asp-controller= "Home" asp-action="Index" asp-route-pg="@pge"> @pge </a>

                    </li>
            }
        </ul>
    }
</div>

            